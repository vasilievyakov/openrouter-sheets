# ๐ ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะฟัะพะตะบัะฐ

## ะกัััะบัััะฐ ะดะพะบัะผะตะฝัะฐัะธะธ

- **[README.md](README.md)** - ะัะฝะพะฒะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั, ะพะฑะทะพั ะฟัะพะตะบัะฐ
- **[SETUP.md](SETUP.md)** - ะะพะดัะพะฑะฝะฐั ะธะฝััััะบัะธั ะฟะพ ะฝะฐัััะพะนะบะต
- **[QUICKSTART.md](QUICKSTART.md)** - ะัััััะน ััะฐัั ั ะบะพะผะฐะฝะดะฐะผะธ
- **[CHECKLIST.md](CHECKLIST.md)** - ะะพัะฐะณะพะฒัะน ัะตะบะปะธัั ะฝะฐัััะพะนะบะธ
- **[EXAMPLES.md](EXAMPLES.md)** - ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฟัะพะผะฟัะพะฒ
- **[PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md)** - ะะฟะธัะฐะฝะธะต ััััะบัััั ะฟัะพะตะบัะฐ

## ะัะฝะพะฒะฝัะต ะบะพะผะฐะฝะดั

### ะัะพะฒะตัะบะฐ ะธ ัะตััะธัะพะฒะฐะฝะธะต

```bash
# ะัะพะฒะตัะบะฐ ะบะพะฝัะธะณััะฐัะธะธ
npm run check

# ะขะตัั OpenRouter API
npm run test:openrouter

# ะขะตัั Google Sheets API
npm run test:sheets SPREADSHEET_ID "Sheet1"
```

### ะะพะบะฐะปัะฝะฐั ะพะฑัะฐะฑะพัะบะฐ

```bash
# ะััะผะพะน ะทะฐะฟััะบ
node index.js SPREADSHEET_ID "Sheet1" "ะัะพะผะฟั" 2

# ะก ะฟะตัะตะผะตะฝะฝัะผะธ ะพะบััะถะตะฝะธั
export OPENROUTER_KEY="your-key"
export GOOGLE_APPLICATION_CREDENTIALS='{"type":"service_account",...}'
node index.js SPREADSHEET_ID "Sheet1" "ะัะพะผะฟั" 2
```

## ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

### ะะฑัะทะฐัะตะปัะฝัะต

- `OPENROUTER_KEY` - API ะบะปัั OpenRouter
- `GOOGLE_APPLICATION_CREDENTIALS` - JSON ัะฐะนะป ะธะปะธ ัััะพะบะฐ ั credentials Service Account

### ะะฟัะธะพะฝะฐะปัะฝัะต

- `OPENROUTER_MODEL` - ะะพะดะตะปั ะดะปั ะธัะฟะพะปัะทะพะฒะฐะฝะธั (ะฟะพ ัะผะพะปัะฐะฝะธั: `openai/gpt-4o-mini`)
- `BATCH_SIZE` - ะะฐะทะผะตั ะฑะฐััะฐ (ะฟะพ ัะผะพะปัะฐะฝะธั: `20`)
- `HTTP_REFERER` - Referer ะดะปั OpenRouter API
- `TEST_SPREADSHEET_ID` - ID ัะฐะฑะปะธัั ะดะปั ัะตััะธัะพะฒะฐะฝะธั

## ะััะธัะตะบัััะฐ ัะธััะตะผั

```
โโโโโโโโโโโโโโโโโโโ
โ  Google Sheets  โ
โ   (Apps Script) โ
โโโโโโโโโโฌโโโโโโโโโ
         โ repository_dispatch
         โผ
โโโโโโโโโโโโโโโโโโโ
โ GitHub Actions  โ
โ   (Workflow)    โ
โโโโโโโโโโฌโโโโโโโโโ
         โ
         โผ
โโโโโโโโโโโโโโโโโโโ
โ  Node.js Script โ
โ    (index.js)   โ
โโโโโโโโโโฌโโโโโโโโโ
         โ
         โโโโโโโโโโโโโโโโ
         โผ              โผ
โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ
โ OpenRouter   โ  โGoogle Sheets โ
โ     API      โ  โ     API      โ
โโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโ
```

## ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ

ะกะธััะตะผะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพะฑัะฐะฑะฐััะฒะฐะตั:

- โ Rate limiting (429) - ะฐะฒัะพะผะฐัะธัะตัะบะธะน retry ั ะทะฐะดะตัะถะบะพะน
- โ ะกะตัะฒะตัะฝัะต ะพัะธะฑะบะธ (500+) - exponential backoff
- โ ะัะธะฑะบะธ ัะตัะธ - ะฟะพะฒัะพัะฝัะต ะฟะพะฟััะบะธ
- โ ะัะธะฑะบะธ ะฒะฐะปะธะดะฐัะธะธ - ะฟะพะฝััะฝัะต ัะพะพะฑัะตะฝะธั
- โ ะัะธะฑะบะธ API - ะปะพะณะธัะพะฒะฐะฝะธะต ะธ ะพะฑัะฐะฑะพัะบะฐ

## ะะธะผะธัั ะธ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

- **Google Sheets API**: 100 ะทะฐะฟัะพัะพะฒ/ัะตะบ
- **OpenRouter**: ะดะพ 20 ะฟะฐัะฐะปะปะตะปัะฝัั ะทะฐะฟัะพัะพะฒ (ะฝะฐัััะฐะธะฒะฐะตััั ัะตัะตะท BATCH_SIZE)
- **Retry**: ะดะพ 3 ะฟะพะฟััะพะบ ั exponential backoff
- **ะััะธัะพะฒะฐะฝะธะต**: ะพะดะธะฝะฐะบะพะฒัะต ะทะฐะฟัะพัั ะบััะธัััััั ะฒ ะฟะฐะผััะธ

## ะะตะทะพะฟะฐัะฝะพััั

โ๏ธ **ะะฐะถะฝะพ:**

1. **ะะธะบะพะณะดะฐ ะฝะต ะบะพะผะผะธัััะต**:
   - API ะบะปััะธ
   - Google credentials JSON ัะฐะนะปั
   - `.env` ัะฐะนะปั

2. **ะัะฟะพะปัะทัะนัะต GitHub Secrets** ะดะปั:
   - `OPENROUTER_KEY`
   - `GOOGLE_APPLICATION_CREDENTIALS`

3. **Apps Script** ััะฐะฝะธั ัะพะบะตะฝั ะฒ ะบะพะดะต:
   - ะญัะพ ะฝะพัะผะฐะปัะฝะพ ะดะปั Apps Script
   - ะะพ ะฝะต ะดะตะปะธัะตัั ัะบัะธะฟัะพะผ ะฟัะฑะปะธัะฝะพ

## ะฃัััะฐะฝะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะัะพะฑะปะตะผะฐ: "OPENROUTER_KEY is required"

**ะะตัะตะฝะธะต:**
```bash
export OPENROUTER_KEY="your-key"
# ะธะปะธ
npm run check  # ะดะปั ะดะธะฐะณะฝะพััะธะบะธ
```

### ะัะพะฑะปะตะผะฐ: "Permission denied" ะฒ Google Sheets

**ะะตัะตะฝะธะต:**
1. ะัะพะฒะตัััะต, ััะพ Service Account ะธะผะตะตั ะดะพัััะฟ ะบ ัะฐะฑะปะธัะต
2. ะฃะฑะตะดะธัะตัั, ััะพ ัะฐะฑะปะธัะฐ ะฟะพะดะตะปะตะฝะฐ ั email Service Account
3. ะะฐะนัะต ะฟัะฐะฒะฐ "ะะตะดะฐะบัะพั"

### ะัะพะฑะปะตะผะฐ: GitHub Actions ะฝะต ะทะฐะฟััะบะฐะตััั

**ะะตัะตะฝะธะต:**
1. ะัะพะฒะตัััะต `WEBHOOK_URL` ะฒ `apps-script/config.gs`
2. ะัะพะฒะตัััะต `GITHUB_TOKEN` - ะดะพะปะถะตะฝ ะธะผะตัั ะฟัะฐะฒะฐ `repo`
3. ะัะพะฒะตัััะต ัะพัะผะฐั ะพัะฟัะฐะฒะบะธ ะฒ `main.gs`

### ะัะพะฑะปะตะผะฐ: ะัะธะฑะบะธ rate limit

**ะะตัะตะฝะธะต:**
1. ะฃะผะตะฝััะธัะต `BATCH_SIZE` (ะฝะฐะฟัะธะผะตั, ะดะพ 10)
2. ะัะพะฒะตัััะต ะปะธะผะธัั ะฝะฐ OpenRouter
3. ะะพะถะดะธัะตัั ัะฑัะพัะฐ ะปะธะผะธัะฐ

## ะะฐััะธัะตะฝะธะต ััะฝะบัะธะพะฝะฐะปัะฝะพััะธ

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒัั ะผะพะดะตะปะตะน

ะะทะผะตะฝะธัะต `OPENROUTER_MODEL`:
```bash
export OPENROUTER_MODEL="anthropic/claude-3-opus"
```

### ะะทะผะตะฝะตะฝะธะต ัะฐะทะผะตัะฐ ะฑะฐััะฐ

```bash
export BATCH_SIZE=10  # ะดะปั ะฑะพะปะตะต ะผะตะดะปะตะฝะฝะพะน, ะฝะพ ะฑะตะทะพะฟะฐัะฝะพะน ะพะฑัะฐะฑะพัะบะธ
export BATCH_SIZE=50  # ะดะปั ะฑะพะปะตะต ะฑััััะพะน ะพะฑัะฐะฑะพัะบะธ (ะพััะพัะพะถะฝะพ ั ะปะธะผะธัะฐะผะธ!)
```

### ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะดััะณะพะณะพ ัะตัะฒะตัะฐ

ะะผะตััะพ GitHub Actions ะผะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั:
- ะกะพะฑััะฒะตะฝะฝัะน ัะตัะฒะตั
- AWS Lambda
- Google Cloud Functions
- Vercel/Netlify Functions

ะะทะผะตะฝะธัะต `WEBHOOK_URL` ะฒ `apps-script/config.gs` ะฝะฐ URL ะฒะฐัะตะณะพ ัะตัะฒะตัะฐ.

## ะะพะดะดะตัะถะบะฐ

ะัะธ ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะธ ะฟัะพะฑะปะตะผ:

1. ะัะพะฒะตัััะต ะปะพะณะธ: `npm run check`
2. ะัะพัะตััะธััะนัะต ะฟะพะดะบะปััะตะฝะธั: `npm run test:openrouter` ะธ `npm run test:sheets`
3. ะัะพะฒะตัััะต ะดะพะบัะผะตะฝัะฐัะธั ะฒ ัะพะพัะฒะตัััะฒัััะธั ัะฐะนะปะฐั
4. ะกะปะตะดัะนัะต ะธะฝััััะบัะธัะผ ะฒ `SETUP.md`

## ะะธัะตะฝะทะธั

MIT

